<!doctype html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Refactoring</title>

        <link rel="stylesheet" href="http://shrinking-world.com/static/revealjs/dist/reset.css">
        <link rel="stylesheet" href="http://shrinking-world.com/static/revealjs/dist/reveal.css">
        <link rel="stylesheet" href="http://shrinking-world.com/static/revealjs/dist/theme/beige.css" id="theme">

        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="http://shrinking-world.com/static/revealjs/plugin/highlight/monokai.css" id="highlight-theme">
        <link rel="stylesheet" href="slides.css">
    </head>

    <body>

        <div class="reveal">
            <div class="slides">

                <section class="section"
                         data-background-image="autumn-leaves.jpg">
                    <h1>cs350 - Lesson 33</h1>
                    <h3 class="title">Mark Seaman</h3>
                    <h3 class="title">University of Northern Colorado</h3>
                    <p><img class="logo" src="Bear.png" alt="Bear.png"></p>
                </section>

                
                    <section>
    <section class="section" data-background-image="crystalball.800.jpg">
        <h2>Refactoring</h2>
    </section>


    
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Code Metrics
* Lines of Code (files, product, tests)
* Issues (open, closed, test hours)
* Effort (hours of engineering)
* Design Patterns



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Lines of Code 
* Count the files
* Lines of product code
* Lines of test code

```
 $ wc -l */*.py
 
       0 accounts/__init__.py
       3 accounts/admin.py
       5 accounts/apps.py
       3 accounts/models.py
       3 accounts/tests.py
      10 accounts/urls.py
       9 accounts/views.py
       0 book/__init__.py
       7 book/admin.py
       5 book/apps.py
      20 book/author.py
      25 book/book.py
      41 book/chapter.py
      56 book/models.py
      53 book/tests.py
      52 book/tests_author.py
     148 book/tests_book.py
      54 book/tests_chapter.py
      33 book/text.py
      26 book/urls.py
      85 book/views.py
       0 config/__init__.py
      16 config/asgi.py
     137 config/settings.py
      16 config/wsgi.py
     807 total
     
$ wc -l */*.html

       5 templates/_footer.html
      10 templates/_header.html
      27 templates/_navbar.html
      20 templates/_user.html
      23 templates/book_add.html
      38 templates/book_detail.html
      23 templates/book_edit.html
      16 templates/book_list.html
      64 templates/book_theme.html
      23 templates/chapter_add.html
      21 templates/chapter_detail.html
      25 templates/chapter_edit.html
      17 templates/chapter_list.html
      13 templates/home.html
      14 templates/login.html
      10 templates/logout.html
      12 templates/register_author.html
      12 templates/register_reader.html
     373 total
```



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Code Metrics
* 500 lines of Python Product Code
* 375 lines of HTML Template Code
* 300 lines of Python Test Code



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Complexity
* Review the largest files in the code
* Think about complexity
* How close is this to the natural complexity

```
     148 book/tests_book.py
     137 config/settings.py
      85 book/views.py
      56 book/models.py
      53 book/tests.py
      
      64 templates/book_theme.html
      38 templates/book_detail.html
      21 templates/chapter_detail.html
```



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Refactoring
* Budget time for refactoring
* Seaman's Rules of Refactoring
    * Break up functions larger than 10 lines
    * Break up files larger than 200 lines
    * Eliminate any duplication of more than 3 lines
    * No more than 3 thing on one line
* Short Files, Functions, Lines, Without Duplication



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Tests Firsts
* Don't Refactor without tests
* Either test it or remove it



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Most Important Refactorings
* Move function to new file
* Rename
* Extract function
* Extract variable


                </textarea>

            </section>
        

    


</section>
<section>
    <section class="section" data-background-image="crystalball.800.jpg">
        <h2>Refactoring</h2>
    </section>


    
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Code Metrics
* Lines of Code (files, product, tests)
* Issues (open, closed, test hours)
* Effort (hours of engineering)
* Design Patterns



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Lines of Code 
* Count the files
* Lines of product code
* Lines of test code

```
 $ wc -l */*.py
 
       0 accounts/__init__.py
       3 accounts/admin.py
       5 accounts/apps.py
       3 accounts/models.py
       3 accounts/tests.py
      10 accounts/urls.py
       9 accounts/views.py
       0 book/__init__.py
       7 book/admin.py
       5 book/apps.py
      20 book/author.py
      25 book/book.py
      41 book/chapter.py
      56 book/models.py
      53 book/tests.py
      52 book/tests_author.py
     148 book/tests_book.py
      54 book/tests_chapter.py
      33 book/text.py
      26 book/urls.py
      85 book/views.py
       0 config/__init__.py
      16 config/asgi.py
     137 config/settings.py
      16 config/wsgi.py
     807 total
     
$ wc -l */*.html

       5 templates/_footer.html
      10 templates/_header.html
      27 templates/_navbar.html
      20 templates/_user.html
      23 templates/book_add.html
      38 templates/book_detail.html
      23 templates/book_edit.html
      16 templates/book_list.html
      64 templates/book_theme.html
      23 templates/chapter_add.html
      21 templates/chapter_detail.html
      25 templates/chapter_edit.html
      17 templates/chapter_list.html
      13 templates/home.html
      14 templates/login.html
      10 templates/logout.html
      12 templates/register_author.html
      12 templates/register_reader.html
     373 total
```



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Code Metrics
* 500 lines of Python Product Code
* 375 lines of HTML Template Code
* 300 lines of Python Test Code



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Complexity
* Review the largest files in the code
* Think about complexity
* How close is this to the natural complexity

```
     148 book/tests_book.py
     137 config/settings.py
      85 book/views.py
      56 book/models.py
      53 book/tests.py
      
      64 templates/book_theme.html
      38 templates/book_detail.html
      21 templates/chapter_detail.html
```



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Refactoring
* Budget time for refactoring
* Seaman's Rules of Refactoring
    * Break up functions larger than 10 lines
    * Break up files larger than 200 lines
    * Eliminate any duplication of more than 3 lines
    * No more than 3 thing on one line
* Short Files, Functions, Lines, Without Duplication



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Tests Firsts
* Don't Refactor without tests
* Either test it or remove it



                </textarea>

            </section>
        
            <section data-background-image="paper.png" data-markdown data-separator="\n### ">

                <textarea data-template>### Most Important Refactorings
* Move function to new file
* Rename
* Extract function
* Extract variable


                </textarea>

            </section>
        

    


</section>
                

            </div>
        </div>

        <script src="http://shrinking-world.com/static/revealjs/dist/reveal.js"></script>
        <script src="http://shrinking-world.com/static/revealjs/plugin/notes/notes.js"></script>
        <script src="http://shrinking-world.com/static/revealjs/plugin/markdown/markdown.js"></script>
        <script src="http://shrinking-world.com/static/revealjs/plugin/highlight/highlight.js"></script>
        <script>
            // More info about initialization & config:
            // - https://revealjs.com/initialization/
            // - https://revealjs.com/config/
            Reveal.initialize({
                hash: true,

                // Learn about plugins: https://revealjs.com/plugins/
                plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
            });

        </script>
    </body>

</html>
